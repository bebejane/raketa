.projects {
  li {
    display: flex;
    margin-bottom: 7rem;
    scroll-margin-top: (--top-margin);

    @include mq($until: desktop) {
      flex-direction: column;
    }
  }

  .meta {
    overflow: hidden;
    position: sticky;
    top: var(--top-margin);
    align-self: flex-start;
    transition: var(--column-transition);

    @include mq($from: desktop) {
      min-width: calc(var(--grid-unit) + var(--gutter));
    }

    @include mq($until: desktop) {
      margin-bottom: 1.5rem;
      width: 100%;
    }

    .wrapper {
      overflow: hidden;
      min-width: calc((var(--grid-unit) * 1) - var(--gutter));
      transition: var(--column-transition);
      padding-right: var(--gutter);
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    &.active {
      min-width: calc((var(--grid-unit) * 2) + var(--gutter));

      .wrapper {
        min-width: calc((var(--grid-unit) * 2) - var(--gutter));
      }
    }

    &.hidden {
      min-width: 0;
    }
  }

  .images {
    @include mq($from: desktop) {
      max-width: calc((var(--grid-unit) * 7) + (var(--gutter) * 6));
    }

    section {
      margin-bottom: var(--gutter-small);

      &:last-of-type {
        margin-bottom: 0;
      }

      figure div {
        max-width: none !important;
      }
    }
  }

  .text {
    overflow-x: hidden;
    position: sticky;
    top: var(--top-margin);
    align-self: flex-start;
    transition: var(--column-transition);
    min-height: calc(100vh - var(--top-margin));

    @include mq($from: desktop) {
      margin-left: var(--gutter);
      max-width: calc(var(--grid-unit) + var(--gutter));
    }

    @include mq($until: desktop) {
      background-color: var(--white);
      padding-top: var(--line-height);
    }

    p {
      min-width: calc((var(--grid-unit) * 3) + (var(--gutter) * 3));
      padding-right: var(--gutter);

      &:last-of-type {
        margin-bottom: 0;
      }
    }

    &.active {
      max-width: calc(3 * (var(--grid-unit) + var(--gutter)));
    }

    &.hidden {
      max-width: 0;
    }
  }
}